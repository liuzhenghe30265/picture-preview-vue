(function(e){function t(t){for(var n,s,a=t[0],l=t[1],c=t[2],u=0,d=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);p&&p(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,a=1;a<i.length;a++){var l=i[a];0!==o[l]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},o={index:0},r=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var p=l;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("c31f")},"0a1a":function(e,t,i){"use strict";i("6aa6")},"0e89":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"#app{text-align:center}.pic{width:200px;cursor:pointer}",""]),e.exports=t},"6aa6":function(e,t,i){var n=i("0e89");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("499e").default;o("7cf221f2",n,!0,{sourceMap:!1,shadowMode:!1})},7766:function(e,t,i){var n=i("eac2");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("499e").default;o("2afd1981",n,!0,{sourceMap:!1,shadowMode:!1})},c31f:function(e,t,i){"use strict";i.r(t);var n=i("2b0e"),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("img",{staticClass:"pic",attrs:{src:"https://file.iviewui.com/images/image-demo-1.jpg",alt:""},on:{click:e.handleClick}})])},r=[],s=(i("14d9"),function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"image_preview_container"},[t("div",{staticClass:"image_preview_close",on:{click:e.close}},[e._v(" x ")]),t("div",{ref:"imagePreviewWrapper",staticClass:"image_preview_wrapper",attrs:{tabindex:"-1"}},[t("div",{staticClass:"image_preview_canvas"},e._l(e.urlList,(function(i,n){return n===e.index?t("img",{key:i,ref:"img",refInFor:!0,style:e.imgStyle,attrs:{src:e.currentImg},on:{load:e.handleImgLoad,error:e.handleImgError,mousedown:e.handleMouseDown}}):e._e()})),0),t("div",{staticClass:"image_preview_actions"},[t("div",{staticClass:"image_preview_actions_inner"},[t("span",{on:{click:function(t){return e.handleActions("zoomOut")}}},[e._v(" zoomOut ")]),t("span",{on:{click:function(t){return e.handleActions("zoomIn")}}},[e._v(" zoomIn ")]),t("span",{class:e.mode.name,on:{click:e.toggleMode}},[e._v(" mode ")]),t("span",{on:{click:function(t){return e.handleActions("anticlocelise")}}},[e._v(" anticlocelise ")]),t("span",{on:{click:function(t){return e.handleActions("clocelise")}}},[e._v(" clocelise ")])])]),t("div",{staticClass:"image_preview_toggle"},[t("span",{staticClass:"image_preview_toggle_btn image_preview_toggle_btn_prev",class:{"is-disabled":!e.infinite&&e.isFirst},on:{click:e.prev}},[e._v(" prev ")]),t("span",{staticClass:"image_preview_toggle_btn image_preview_toggle_btn_next",class:{"is-disabled":!e.infinite&&e.isLast},on:{click:e.next}},[e._v(" next ")])])])])}),a=[];const l=n["a"].prototype.$isServer,c={CONTAIN:{name:"contain"},ORIGINAL:{name:"original"}},p=function(){return!n["a"].prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},u=p()?"DOMMouseScroll":"mousewheel",d=function(){return!l&&document.addEventListener?function(e,t,i){e&&t&&i&&e.addEventListener(t,i,!1)}:function(e,t,i){e&&t&&i&&e.attachEvent("on"+t,i)}}(),f=function(){return!l&&document.removeEventListener?function(e,t,i){e&&t&&e.removeEventListener(t,i,!1)}:function(e,t,i){e&&t&&e.detachEvent("on"+t,i)}}();var g={data(){return{index:null,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1},mode:c.CONTAIN,infinite:!0,loading:!1,visible:!1,closed:!1}},computed:{isSingle(){return this.urlList.length<=1},isFirst(){return 0===this.index},isLast(){return this.index===this.urlList.length-1},imgStyle(){const{scale:e,deg:t,offsetX:i,offsetY:n,enableTransition:o}=this.transform,r={transform:`scale(${e}) rotate(${t}deg)`,transition:o?"transform .3s":"","margin-left":i+"px","margin-top":n+"px"};return this.mode===c.CONTAIN&&(r.maxWidth=r.maxHeight="100%"),r},currentImg(){return this.urlList[this.index]}},watch:{currentImg(e){this.$nextTick(e=>{const t=this.$refs.img[0];t.complete||(this.loading=!0)})},index:{handler:function(e){this.reset()}},closed(e){e&&(this.visible=!1,this.handleAfterLeave())}},mounted(){this.index=this.initialIndex,this.deviceSupportInstall(),this.$refs["imagePreviewWrapper"].focus()},beforeDestroy(){},methods:{rafThrottle(e){let t=!1;return function(...i){t||(t=!0,window.requestAnimationFrame(n=>{e.apply(this,i),t=!1}))}},reset(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},prev(){if(this.isFirst&&!this.infinite)return;const e=this.urlList.length;this.index=(this.index-1+e)%e},next(){if(this.isLast&&!this.infinite)return;const e=this.urlList.length;this.index=(this.index+1)%e},toggleMode(){if(this.loading)return;const e=Object.keys(c),t=Object.values(c),i=t.indexOf(this.mode),n=(i+1)%e.length;this.mode=c[e[n]],this.reset()},handleActions(e,t={}){if(this.loading)return;const{zoomRate:i,rotateDeg:n,enableTransition:o}={zoomRate:.2,rotateDeg:90,enableTransition:!0,...t},{transform:r}=this;switch(e){case"zoomOut":r.scale>.2&&(r.scale=parseFloat((r.scale-i).toFixed(3)));break;case"zoomIn":r.scale=parseFloat((r.scale+i).toFixed(3));break;case"clocelise":r.deg+=n;break;case"anticlocelise":r.deg-=n;break}r.enableTransition=o},deviceSupportUninstall(){f(document,"keydown",this._keyDownHandler),f(document,u,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},deviceSupportInstall(){this._keyDownHandler=e=>{e.stopPropagation();const t=e.keyCode;switch(t){case 27:this.close();break;case 32:this.toggleMode();break;case 37:this.prev();break;case 38:this.handleActions("zoomIn");break;case 39:this.next();break;case 40:this.handleActions("zoomOut");break}},this._mouseWheelHandler=this.rafThrottle(e=>{const t=e.wheelDelta?e.wheelDelta:-e.detail;t>0?this.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):this.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})}),d(document,"keydown",this._keyDownHandler),d(document,u,this._mouseWheelHandler)},handleImgLoad(e){this.loading=!1},handleImgError(e){this.loading=!1,e.target.alt="加载失败"},handleMouseDown(e){if(this.loading||0!==e.button)return;const{offsetX:t,offsetY:i}=this.transform,n=e.pageX,o=e.pageY;this._dragHandler=this.rafThrottle(e=>{this.transform.offsetX=t+e.pageX-n,this.transform.offsetY=i+e.pageY-o}),d(document,"mousemove",this._dragHandler),d(document,"mouseup",e=>{f(document,"mousemove",this._dragHandler)}),e.preventDefault()},handleAfterLeave(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el),this.deviceSupportUninstall()},close(){this.closed=!0,"function"===typeof this.onClose&&this.onClose(this)}}},m=g,h=(i("c32e"),i("2877")),_=Object(h["a"])(m,s,a,!1,null,null,null),v=_.exports;function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function b(e){return null!==e&&"object"===typeof e&&w(e,"componentOptions")}const x=function(e){return null!==e&&"object"===typeof e},y=n["a"].extend(v);let k;const O=[];let j=1;const I=function(e){if(n["a"].prototype.$isServer)return;e=e||{},"string"===typeof e&&(e={message:e});const t=e.onClose,i="message_"+j++;e.onClose=function(){I.close(i,t)},k=new y({data:e}),k.id=i,b(k.dom)&&(k.$slots.default=[k.dom],k.dom=null),k.$mount(),document.body.appendChild(k.$el);let o=e.offset||20;return e.accVerticalOffset&&O.forEach(e=>{o+=e.$el.offsetHeight+16}),k.verticalOffset=o,k.visible=!0,k.$el.style.zIndex=e.zIndex||999,O.push(k),k};["success","warning","info","error"].forEach(e=>{I[e]=t=>x(t)&&!b(t)?I({...t,type:e}):I({type:e,message:t})}),I.close=function(e,t){const i=O.length;let n,o=-1;for(let r=0;r<i;r++)if(e===O[r].id){n=O[r].$el.offsetHeight,o=r,"function"===typeof t&&t(O[r]),O.splice(r,1);break}if(!(i<=1||-1===o||o>O.length-1))for(let r=o;r<i-1;r++){const e=O[r].$el;e.style["top"]=parseInt(e.style["top"],10)-n-16+"px"}},I.closeAll=function(){for(let e=O.length-1;e>=0;e--)O[e].close()};var z=I,C=z;function L({...e}){return C({...e})}function A(e){let t=e;"[object String]"===Object.prototype.toString.call(e)&&(t={urlList:[t],initialIndex:0}),L(t)}var $={name:"App",components:{},data(){return{}},mounted(){},computed:{},methods:{handleClick(){A({urlList:["https://file.iviewui.com/images/image-demo-1.jpg","https://file.iviewui.com/images/image-demo-2.jpg","https://file.iviewui.com/images/image-demo-3.jpg","https://file.iviewui.com/images/image-demo-4.jpg","https://file.iviewui.com/images/image-demo-5.jpg","https://file.iviewui.com/images/image-demo-6.jpg"],initialIndex:0})}}},S=$,T=(i("0a1a"),Object(h["a"])(S,o,r,!1,null,null,null)),M=T.exports;n["a"].config.productionTip=!1,new n["a"]({render:e=>e(M)}).$mount("#app")},c32e:function(e,t,i){"use strict";i("7766")},eac2:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'.image_preview_container{position:fixed;top:0;left:0;overflow:hidden;box-sizing:border-box;width:100%;height:100%}.image_preview_container:before{position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;content:"";opacity:.5;background:#000}.image_preview_container .image_preview_close{font-size:24px;position:absolute;z-index:999;top:50px;right:50px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.image_preview_container .image_preview_wrapper{position:fixed;top:0;right:0;bottom:0;left:0}.image_preview_container .image_preview_wrapper .image_preview_canvas{display:flex;align-items:center;justify-content:center;width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none}.image_preview_container .image_preview_wrapper .image_preview_actions{position:absolute;bottom:30px;left:50%;-webkit-user-select:none;-moz-user-select:none;user-select:none;transform:translateX(-50%)}.image_preview_container .image_preview_wrapper .image_preview_actions .image_preview_actions_inner{display:flex;align-items:center;justify-content:space-around}.image_preview_container .image_preview_wrapper .image_preview_actions .image_preview_actions_inner span{cursor:pointer;color:#fff}.image_preview_container .image_preview_wrapper .image_preview_toggle{-webkit-user-select:none;-moz-user-select:none;user-select:none}.image_preview_container .image_preview_wrapper .image_preview_toggle .image_preview_toggle_btn{position:absolute;top:50%;cursor:pointer;color:#fff}.image_preview_container .image_preview_wrapper .image_preview_toggle .image_preview_toggle_btn.image_preview_toggle_btn_prev{left:40px;transform:translateY(-50%)}.image_preview_container .image_preview_wrapper .image_preview_toggle .image_preview_toggle_btn.image_preview_toggle_btn_next{right:40px;transform:translateY(-50%)}',""]),e.exports=t}});
//# sourceMappingURL=index.2405b708.js.map